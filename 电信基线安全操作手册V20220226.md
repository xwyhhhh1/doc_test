## 电信安全基线操作手册

### 一、nginx

#### 1.自定义错误码



```shell
#登录主机10.10.9.31
cd /usr/local/openresty/nginx/conf
#对nginx.conf进行编辑
vim nginx.conf
#找到server添加以下内容，示例如下
server {
        listen      80 default_server;
        server_name _;

        error_page  400 404 413 502 504 /usr/local/openresty/nginx/html/50x.html; 
        return      444; # "Connection closed without response"
    }
```

```shell
#继续对http段添加内容，在include conf.d/*.conf;字段上添加
#示例如下
server {
        listen      80 default_server;
        server_name _;

        error_page  400 404 413 502 504 /usr/local/openresty/nginx/html/50x.html; 
        return      444; # "Connection closed without response"
    }
        errot_page 400  /50x.html;
        error_page 404  /50x.html;
        error_page 413  /50x.html;
        error_page 502  /50x.html;
        error_page 504  /50x.html;
    include conf.d/*.conf;
}

```



```shell
#登录10.10.9.31机器
cd /usr/local/openresty/nginx/conf/conf.d
#对其下除
```

