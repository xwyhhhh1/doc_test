## apache 编译安装

1.准备环境

```shell
# 更换yum 源，访问mirrors.aliyun.com获取

# 关闭firewalld
systemctl stop firewalld && systemctl disable firewalld

# 关闭selinux 
setenforce 0
sed -i ''   /etc/selinux/config
```

2安装相关组件

```shell
# apr apr-util pcre
yum clean all
yum makecache fast
yum install -y apr apr-util pcre openssl openssl-devel gcc gcc-c++ wget net-tools
```

3.下载相关组件包

```shell
cd /usr/local/src
wget apr
wget apr-util
wget apache2.5.41

# 拷贝 apr apr-util 到 apache  wwwsrc 目录中
```

4.安装

```shell
cd /usr/local/src
tar -xf apache2.5.41.tar.gz
cd apache 
./configure --prefix=/usr/local/apache --enable-so --enable-rewrite --enable-ssl --enable-modules=most --enable-mpms-shared=all --with-mpm=event --with-included-apr

#判断配置是否成功
echo $?
#如果输出0，表示配置成功，输出非0表示配置失败

make && make install

#判断安装是否成功
echo $?
#如果输出0，表示安装成功，反之失败
```

5.启动Apache

```shell
cd /usr/local/apache/bin/
./apachectl -f /usr/local/apache/conf/httpd.conf

#检查启动进程和端口
ps aux|grep httpd |grep -v grep |wc -l 
# 输出结果如果大于0表示服务启动成功

netstat -lntup|grep httpd
#输出有80端口信息，表示启动成功

```

6.测试

```shell
#打开浏览器访问http://IP/
# 如果显示 It`s Work 表示Apache安装成功，并正常运行！
```

